name: PR Build - Functional Tests

on:
  pull_request:
    branches: [ disabled ]
    types: [synchronize, opened, reopened, ready_for_review]
  push:
    branches:
      - 'disabled'

jobs:
  java-functional-tests:
    uses: newrelic/newrelic-java-agent/.github/workflows/run-gradle-build.yml@main
    with:
      command: ./gradlew --console=plain --parallel :functional_test:test --continue

  scala-functional-tests:
    uses: newrelic/newrelic-java-agent/.github/workflows/run-gradle-build.yml@main
    with:
      command: ./gradlew --console=plain --parallel :newrelic-scala-api:test :newrelic-scala-cats-api:test :newrelic-cats-effect3-api:test :newrelic-scala-zio-api:test --continue
