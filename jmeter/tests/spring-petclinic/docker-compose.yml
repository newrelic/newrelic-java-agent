services:
  petclinic-default:
    image: jmeter/spring-petclinic:latest
#    ports:
#      - "8080:8080"
#      - "1234:1234"
    volumes:
      - "./test_cases/default/newrelic.yml:/app/newrelic.yml"
      - "./results/currentRun/default:/app/results"
      - "./logs/currentRun/default:/app/logs"
    environment:
      - "NEW_RELIC_LICENSE_KEY=${NEW_RELIC_LICENSE_KEY}"
      - "AGENT_BUILD=${AGENT_BUILD}"
      - "JMX_JVM_ARGS=${JMX_JVM_ARGS}"
      - "CUSTOM_JVM_ARGS=${CUSTOM_JVM_ARGS}"
  petclinic-lite-mode:
    image: jmeter/spring-petclinic
#    ports:
#      - "8080:8080"
#      - "1234:1234"
    volumes:
      - "./test_cases/lite-mode/newrelic.yml:/app/newrelic.yml"
      - "./results/currentRun/lite-mode:/app/results"
      - "./logs/currentRun/lite-mode:/app/logs"
    environment:
      - "NEW_RELIC_LICENSE_KEY=${NEW_RELIC_LICENSE_KEY}"
      - "AGENT_BUILD=${AGENT_BUILD}"
      - "JMX_JVM_ARGS=${JMX_JVM_ARGS}"
      - "CUSTOM_JVM_ARGS=${CUSTOM_JVM_ARGS}"